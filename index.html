<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body>

<script type="text/template" id="list_template">

</script>
<div id="list"></div>

<script src="http://cdn.staticfile.org/jquery/1.9.0/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/underscore.js/1.6.0/underscore-min.js"></script>
<script src="http://cdn.staticfile.org/backbone.js/1.1.2/backbone-min.js"></script>
<script>

$(function() {
    var Post = Backbone.Model.extend({
        initialize: function(){
            //console.log('create model');
        },

        defaults: {
            'title': '',
            'link': ''
        }
    });

    var List = Backbone.Collection.extend({
        initialize: function(){
            //console.log('create collection');
        },
        model: Post,
        url: 'meta.json',
    });

    var ListView = Backbone.View.extend({
        initialize: function(){
            _.bindAll(this, 'render');
            this.meta();
        },

        meta: function(){
            var self = this;
            this.list = new List();
            this.list.fetch({
                success: function(collection, response){
                    self.data = response;
                    self.render();
                },
                error: function(collection, response){
                    //console.log('error');
                }
            });
        },

        render: function(){
            if(!this.data){
                this.meta();
                return;
            }

            //反序
            function _sortbydate(a, b){
                return new Regxen
            }
        }
    });

    var AppRouter = Backbone.Router.extend({
        routes: {
            '': 'index'
        },

        index: function(){
            var listview = new ListView();
        }
    });

    var app = new AppRouter;
    Backbone.history.start();
});
</script>
</body>
</html>
